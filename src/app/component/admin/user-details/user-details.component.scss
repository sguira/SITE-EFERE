/* Variables pour les couleurs et espacements */
:root {
  --primary-color: #fbe92b; /* Couleur proche du jaune de votre exemple */
  --text-color-dark: #1f1f1f;
  --text-color-light: #ffffff;
  --background-card: rgba(255, 255, 255, 0.277);
  --background-dark-alpha: rgba(0, 0, 0, 0.132);
  --border-radius-main: 11px;
  --border-radius-sm: 8px;
  --spacing-unit: 8px;
}

* {
  user-select: none;
  box-sizing: border-box; /* Important pour le responsive et le padding */
}

.carousel-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: calc(var(--spacing-unit) * 10); /* 80px */

  overflow: hidden; /* Empêche le défilement indésirable */
}

.carousel-header-content {
  max-width: 900px;
  text-align: center;

  margin-bottom: calc(var(--spacing-unit) * 3); /* Espace après le texte d'introduction */

  .main-title {
    color: var(--text-color-dark);
    text-transform: uppercase;
    font-weight: 700; /* Plus de gras */
    font-size: 2.5rem; /* Taille plus grande pour le titre principal */
    line-height: 1.2;

    font-family: 'system-ui', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    /* Supprimer les animations CSS 'show-text' pour le titre H1
       L'animation de texte est souvent mieux gérée via Angular Animations pour une meilleure intégration */
  }

  .subtitle {
    font-size: 1.1rem; /* Légèrement plus grand */
    color: rgba(0, 0, 0, 0.7); /* Couleur plus douce */
    line-height: 1.6;
    max-width: 700px; /* Limite la largeur du paragraphe */
    margin: 0 auto;
  }
}

.carousel-container {
  display: flex;
  flex-direction: row; /* Par défaut : tabs à gauche, contenu à droite */
  background-color: var(--background-card);
  border-radius: var(--border-radius-main);
  padding: calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) / 4); /* 16px 2px */
  align-items: flex-start; /* Alignement en haut */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); /* Ombre douce pour un effet de profondeur */
  width: 95%; /* Prend plus de largeur */
  max-width: 1200px; /* Limite la largeur maximale */
}

.carousel-tabs {

  border-right: 1px solid rgba(0, 0, 0, 0.1); /* Ligne de séparation subtile */
  min-width: 180px; /* Largeur minimale pour les onglets */

  ul {
    list-style: none;
    margin: 0;
    padding: 0;

    li {
      padding: var(--spacing-unit) 0; /* Espacement autour du texte de l'onglet */
      font-weight: 500;
      font-size: 0.95rem; /* Taille de police légèrement augmentée */
      color: var(--text-color-dark);
      cursor: pointer;
      text-align: center;
      transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease; /* Transitions douces */
      border-radius: var(--border-radius-sm); /* Bords arrondis pour les onglets */
      position: relative; /* Pour l'indicateur actif */

      &:hover {
        color: var(--primary-color);
        background-color: rgba(0, 0, 0, 0.05); /* Effet hover léger */
        transform: translateX(5px); /* Petit décalage à l'hover */
      }
    }
  }
}

/* Style pour l'onglet actif */
.active-tab {
  background-color: rgba(0, 0, 0, 0.1); /* Couleur de fond plus douce pour actif */
  color: var(--primary-color) !important; /* Couleur du texte principal */
  font-weight: 600 !important; /* Gras pour l'actif */

  &::before { /* Indicateur visuel sur le côté */
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 4px; /* Largeur de l'indicateur */
    height: 80%; /* Hauteur de l'indicateur */
    background-color: var(--primary-color);
    border-radius: 0 3px 3px 0; /* Arrondi sur le côté droit */
  }
}

.carousel-content {
  flex-grow: 1; /* Prend l'espace restant */
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* Pour pousser les indicateurs en bas */
  align-items: center; /* Centrer le contenu horizontalement */
}

.carousel-image-wrapper {
  text-align: center; /* Pour centrer l'image */

  img {
    max-width: 100%; /* L'image s'adapte à la largeur du conteneur */
    height: 320px; /* Hauteur fixe pour une uniformité */
    object-fit: contain; /* L'image est contenue sans être coupée */
    background-color: var(--background-dark-alpha);
    border-radius: var(--border-radius-sm);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08); /* Ombre légère pour l'image */
  }
}

.carousel-text-content {
  text-align: center; /* Centrer le texte */

  .content-title {
    font-size: 1.2rem; /* Taille plus grande */
    font-weight: 600;
    color: var(--text-color-dark);
    border-left: calc(var(--spacing-unit) * 1.5) solid var(--primary-color); /* Bordure colorée */
    border-top-left-radius: var(--border-radius-sm);
    border-bottom-left-radius: var(--border-radius-sm);
    max-width: 480px; /* Limite la largeur du titre */
    background-color: rgba(62, 60, 60, 0.05); /* Fond très léger */
  }

  .content-description {
    max-width: 550px; /* Limite la largeur de la description */
    margin: 0 auto; /* Centrer le paragraphe */
    font-size: 0.9rem;
    background-color: rgba(120, 120, 120, 0.1); /* Fond légèrement plus clair */
    border-radius: 30px; /* Bords très arrondis */
    border: 1px solid rgba(0, 0, 0, 0.08); /* Bordure subtile */
    line-height: 1.5;
  }
}

.carousel-indicators {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: auto; /* Pousse les indicateurs vers le bas du carousel-content */

  .indicator-dot {
    width: 10px; /* Taille de la puce */
    height: 10px;
    border-radius: 50%;
    background-color: rgba(0, 0, 0, 0.2); /* Couleur par défaut des puces */
    margin: 0 var(--spacing-unit) / 2; /* Espacement entre les puces */
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
    border: 1px solid transparent; /* Pour éviter le "saut" lors de l'activation */

    &:hover {
      transform: scale(1.1);
    }
  }

  .active-dot {
    background-color: var(--primary-color); /* Couleur de la puce active */
    border: 1px solid var(--primary-color);
    transform: scale(1.2); /* Légèrement plus grande */
  }
}

/* --- Animations (si vous les gérez en CSS plutôt qu'en Angular) --- */
/* Si vous utilisez Angular Animations, ces règles CSS pourraient être inutiles ou interférer */
/* @keyframes show-text { ... } // Supprimé, gérer avec Angular Animations
/* @keyframes image-enter { ... } // Supprimé, gérer avec Angular Animations */


/* --- Réactivité (Media Queries) --- */
@media screen and (max-width: 992px) { /* Pour les tablettes et petits écrans */
  .carousel-container {
    flex-direction: column; /* Les onglets passent au-dessus du contenu */
    align-items: center; /* Centrer le contenu en mode colonne */
    width: 100%; /* Prend toute la largeur */
  }

  .carousel-tabs {
    width: 100%;
    border-right: none; /* Supprimer la bordure verticale */
    border-bottom: 1px solid rgba(0, 0, 0, 0.1); /* Nouvelle bordure horizontale */

    ul {
      display: flex; /* Les onglets deviennent une ligne */
      flex-wrap: wrap; /* Permet aux onglets de passer à la ligne */
      justify-content: center;
      gap: var(--spacing-unit); /* Espacement entre les onglets */

      li {
        flex-shrink: 0; /* Empêche les onglets de rétrécir */

        &::before { /* L'indicateur actif peut être en bas ou supprimé */
          display: none; /* Cache l'indicateur vertical pour mobile */
        }
        &.active-tab {
          border-bottom: 2px solid var(--primary-color); /* Indicateur en bas pour mobile */
          border-radius: 0; /* Enlever le border-radius en bas */
        }
      }
    }
  }

  .carousel-image-wrapper img {
    height: 250px; /* Réduire la hauteur de l'image sur tablette */
  }

  .carousel-text-content {
    .content-title {
      font-size: 1.1rem;
      border-left-width: calc(var(--spacing-unit) * 1); /* Réduire la bordure */
    }
    .content-description {
      font-size: 0.85rem;
    }
  }
}

@media screen and (max-width: 600px) { /* Pour les téléphones */
  .carousel-header-content {
    .main-title {
      font-size: 1.8rem; /* Plus petite sur mobile */
    }
    .subtitle {
      font-size: 0.9rem;
    }
  }

  .carousel-image-wrapper img {
    height: 200px; /* Encore plus petite sur mobile */
    padding: var(--spacing-unit);
  }

  .carousel-tabs ul li {
    font-size: 0.85rem;
    padding: var(--spacing-unit) 10px; /* Espacement ajusté */
  }

  .carousel-text-content {
    padding: var(--spacing-unit);
    .content-title {
      font-size: 1rem;
      padding: var(--spacing-unit);
    }
    .content-description {
      font-size: 0.8rem;
    }
  }
}
